template folder for podman quadlet configuration file.
tasks main.yml

- name: Install Podman
  apt:
    name: podman
    state: present

- name: Deploy Quadlet container file
  template:
    src: app.container.j2
    dest: "/etc/containers/systemd/{{ app_name }}.container"
  notify:
    - Reload systemd

- name: Enable app service
  systemd:
    name: "{{ app_name }}.service"
    enabled: true
    state: started

- name: Create auto-update override directory
  file:
    path: /etc/systemd/system/podman-auto-update.timer.d
    state: directory

- name: Configure auto-update schedule
  copy:
    dest: /etc/systemd/system/podman-auto-update.timer.d/override.conf
    content: |
      [Timer]
      OnCalendar={{ podman_auto_update_schedule }}
      Persistent=true
  notify:
    - Reload systemd

- name: Enable auto-update timer
  systemd:
    name: podman-auto-update.timer
    enabled: true
    state: started



